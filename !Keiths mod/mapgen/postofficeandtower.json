[
{
    "type": "city_building",
    "id": "post_office_overrun",
    "locations": [ "land" ],
    "overmaps": [
      { "point": [ 0, 0, 0 ], "overmap": "post_office_overrun_north" },
      { "point": [ 0, 0, 1 ], "overmap": "post_office_overrun_roof_north" }
    ]
  },
  {
    "type": "overmap_terrain",
    "id": [ "post_office_overrun" ],
    "name": "post office",
    "copy-from": "generic_city_building",
    "color": "blue"
  },
  {
    "type": "overmap_terrain",
    "id": [ "post_office_overrun_roof" ],
    "name": "post office roof",
    "copy-from": "generic_city_building",
    "color": "blue"
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "post_office_overrun" ],
    "weight": 100,
    "object": {
      "fill_ter": "t_linoleum_gray",
      "rows": [
        "/__________ssssssssssss ",
        " __________s||---+---|| ",
        " __________s|^.......Y| ",
        " p____p____s-b.......c| ",
        " p____p____s-b.......c| ",
        " p__Á_p__Á_s|Y...P...c| ",
        " p____p____s+........2| ",
        " p____p____s+........#| ",
        " sssssssssss|&.......#| ",
        " |||w||||||||v.......#| ",
        " |^IIIF|^11&|......|||| ",
        " |..C.......|==.=...XX| ",
        " |..........c.=.=....X| ",
        "4|f....|...Cc.=.=....X| ",
        " |f....|....c.=.=....X| ",
        " |f...X|I...c...=....X| ",
        " |f.K.X|IC..|====...XX| ",
        " |ccccc|I...|......|||| ",
        " ||||||||..||@.....D.S| ",
        " |e%%%Scc...|......|.T| ",
        " |..........|.....Y|||| ",
        " |..........a......D.T| ",
        " |&.bbb.{{{{|^bb...|.S| ",
        " ||||||||||||||||D||||| "
      ],
      "terrain": {
        "=": "t_railing",
        "+": "t_door_glass_c",
        "-": "t_wall_glass",
        ".": "t_linoleum_gray",
        "D": "t_door_c",
        "_": "t_pavement",
        "Á": "t_pavement",
        "a": "t_door_locked_interior",
        " ": "t_region_groundcover_urban",
        "/": "t_region_groundcover_urban",
        "p": "t_pavement_y",
        "s": "t_sidewalk",
        "w": "t_window_domestic",
        "|": "t_wall_w",
        "3": "t_atm",
        "4": "t_gutter_downspout"
      },
      "furniture": {
        "#": "f_rack_wood",
        "@": "f_rack",
        "c": "f_counter",
        "%": "f_cupboard",
        "&": "f_trashcan",
        "S": "f_sink",
        "X": "f_safe_l",
        "^": [ "f_indoor_plant", "f_indoor_plant_y" ],
        "b": "f_bench",
        "C": "f_chair",
        "e": "f_fridge",
        "I": "f_desk",
        "Y": "f_trashcan",
        "1": "f_server",
        "2": "f_shredder",
        "F": "f_filing_cabinet",
        "f": "f_filing_cabinet",
        "K": "f_stool",
        "t": "f_table",
        "v": "f_vending_c",
        "{": "f_locker",
        "/": "f_flagpole"
      },
      "vehicles": { "Á": { "vehicle": "parking_garage", "chance": 33, "rotation": 90 } },
      "toilets": { "T": {  } },
	  "monster": { "P": { "monster": "mon_demon_portal", "chance": 100 } },
      "item": { "#": { "item": "greeting_card", "repeat": [ 10, 30 ] }, "/": { "item": "american_flag", "chance": 25 } },
      "items": {
        "X": [ { "item": "antique", "chance": 50 }, { "item": "crystallized_ink_colors", "chance": 25 }, { "item": "jewelry_safe", "chance": 10 } ],
        "{": [ { "item": "clothing_outdoor_torso", "chance": 50 }, { "item": "bags", "chance": 50 } ],
        "I": { "item": "SUS_office_desk", "chance": 30 },
        "e": { "item": "SUS_fridge_breakroom", "chance": 30 },
        "F": { "item": "SUS_office_filing_cabinet", "chance": 75 },
        "f": { "item": "mail_postal", "chance": 75, "repeat": [ 1, 12 ] },
        "@": { "item": "packaging_postal", "chance": 75, "repeat": [ 1, 6 ] },
        "Y": { "item": "trash", "chance": 50, "repeat": [ 2, 4 ] },
        "%": { "item": "snacks", "chance": 50, "repeat": [ 2, 4 ] }
      },
      "place_signs": [ { "signage": "SHIPPING SUPPLIES", "x": 13, "y": 19 } ],
      "place_loot": [ { "group": "cash_register_random", "x": 12, "y": [ 12, 15 ] } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "post_office_overrun_roof",
    "object": {
      "fill_ter": "t_flat_roof",
      "rows": [
        "                        ",
        "            |2222222223 ",
        "            |.........3 ",
        "            |..oo.oo..3 ",
        "            |..oo.oo..3 ",
        "            |..oo.oo..3 ",
        "            |R...#....3 ",
        "            |..oo.oo..3 ",
        "            |..oo.oo..3 ",
        " |2222222222|..oo.oo..3 ",
        " |....................3 ",
        " |.U..................3 ",
        " |....................3 ",
        " 5....................3 ",
        " |....................3 ",
        " |.........{..........3 ",
        " |..........X.........3 ",
        " |....................3 ",
        " |....................3 ",
        " |....................3 ",
        " |............P.......3 ",
        " |....................3 ",
        " |....................3 ",
        " |--------------------3 "
      ],
      "palettes": [ "roof_palette" ],
      "nested": { "U": { "chunks": [ "roof_2x2_infrastructure" ] }, "R": { "chunks": [ "roof_2x2_infrastructure_1" ] } },
	  "monsters": { "P": { "monster": "GROUP_MAGES", "chance": 100 } },
	  "furniture": {
        "#": "f_magic_circle"
      },
	  "items": {
        "X": [ { "item": "brimstone_weapons", "chance": 50 }, { "item": "brimstone_ammunition", "chance": 50 }, { "item": "links", "chance": 10 } ],
        "{": [ { "item": "enchanted_misc", "chance": 50 }, { "item": "enchanted_combat_items", "chance": 10 } ]
      },
      "place_nested": [
        {
          "chunks": [
            [ "null", 20 ],
            [ "roof_2x2_utilities_b", 15 ],
            [ "roof_2x2_utilities_c", 5 ],
            [ "roof_2x2_utilities_d", 40 ],
            [ "roof_2x2_utilities", 50 ]
          ],
          "x": [ 5, 15 ],
          "y": [ 12, 13 ]
        },
        {
          "chunks": [ [ "null", 40 ], [ "roof_4x4_utility", 40 ], [ "roof_6x6_utility", 20 ] ],
          "x": [ 3, 13 ],
          "y": [ 15, 17 ]
        }
      ]
    }
  },
{
    "type": "city_building",
    "id": "office_towermage",
    "locations": [ "land" ],
    "overmaps": [
      { "point": [ 0, 0, 0 ], "overmap": "office_towermage_ne_north" },
      { "point": [ 1, 0, 0 ], "overmap": "office_towermage_nw_north" },
      { "point": [ 0, 1, 0 ], "overmap": "office_towermage_sw_north" },
      { "point": [ 1, 1, 0 ], "overmap": "office_towermage_se_north" },
      { "point": [ 0, 0, -1 ], "overmap": "office_tower_underground_nw_north" },
      { "point": [ 1, 0, -1 ], "overmap": "office_tower_underground_ne_north" },
      { "point": [ 0, 1, -1 ], "overmap": "office_tower_underground_sw_north" },
      { "point": [ 1, 1, -1 ], "overmap": "office_tower_underground_se_north" },
      { "point": [ 0, 0, 1 ], "overmap": "office_towermage_roof_ne_north" },
      { "point": [ 1, 0, 1 ], "overmap": "office_towermage_roof_nw_north" },
      { "point": [ 0, 1, 1 ], "overmap": "office_towermage_roof_sw_north" },
      { "point": [ 1, 1, 1 ], "overmap": "office_towermage_roof_se_north" },
	  { "point": [ 0, 0, 2 ], "overmap": "office_towermage_rooftrue_ne_north" },
      { "point": [ 1, 0, 2 ], "overmap": "office_towermage_rooftrue_nw_north" },
      { "point": [ 0, 1, 2 ], "overmap": "office_towermage_rooftrue_sw_north" },
      { "point": [ 1, 1, 2 ], "overmap": "office_towermage_rooftrue_se_north" }
    ]
  },
  {
    "type": "overmap_terrain",
    "id": [ "office_towermage_ne" ],
    "copy-from": "generic_city_building",
    "name": "office tower",
    "sym": "T",
    "color": "i_light_gray"
  },
  {
    "type": "overmap_terrain",
    "id": [ "office_towermage_nw", "office_towermage_sw", "office_towermage_se" ],
    "copy-from": "generic_city_building",
    "name": "office tower",
    "sym": "t",
    "color": "i_light_gray"
  },
  {
    "type": "overmap_terrain",
    "id": [ "office_towermage_roof_nw", "office_towermage_roof_ne", "office_towermage_roof_se", "office_towermage_roof_sw" ],
    "copy-from": "generic_city_building",
    "name": "office tower",
    "sym": "t",
    "color": "i_light_gray"
  },
  {
    "type": "overmap_terrain",
    "id": [ "office_towermage_rooftrue_nw", "office_towermage_rooftrue_ne", "office_towermage_rooftrue_se", "office_towermage_rooftrue_sw" ],
    "copy-from": "generic_city_building",
    "name": "office tower",
    "sym": "t",
    "color": "i_light_gray"
  },
  {
    "type": "mapgen",
    "om_terrain": [ [ "office_towermage_roof_ne", "office_towermage_roof_nw" ], [ "office_towermage_roof_sw", "office_towermage_roof_se" ] ],
    "method": "json",
	"palettes": [ "helipad_palette_roof" ],
    "object": {
      "fill_ter": "t_flat_roof",
      "rows": [
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssЮ------------------------------------------Юss",
        "sss-.##################BB##################.-sss",
	    "sss-.#.BBBBBBBBBBBBBBBBZ)BBBBBBBBBBBBBBBB.#.-sss",
        "sss-.#l..aa....[T......22......mmT[..)...l#.-sss",
        "sss-.#l.............TTTTTTTT........0....l#.-sss",
        "sss-.#0.....A.......[[[[[[[[.............1#.-sss",
        "sss-.#2YT.....m...................a......1#.-sss",
        "sss-.######################################.-sss",
        "sss-..............B..........B..............-sss",
        "sss-.....v........B..........B..............-sss",
        "sss-..............B...rrrr...B..............-sss",
        "sss-..(((((((((...B..........B...(((((((((..-sss",
        "sss-..(((((((((...B..........B...(((((((((..-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B..........B..............-sss",
        "sss-.........r....B..........B......v.......-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B....K.....B..............-sss",
        "sss-..............B..........B....r.........-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B..........B..............-sss",
        "sss-..............B..........B..............-sss",
        "sss-........................................-sss",
        "sss-..(((((((((..................(((((((((..-sss",
        "sss-..(((((((((........>>........(((((((((..-sss",
        "sss-........................................-sss",
        "sss-........................................-sss",
        "ssss========================================ssss",
        "ssss=================p====p=================ssss",
        "ssss=================p====p=================ssss",
        "ssss=================pppppp=================ssss",
        "ssss=================p====p=================ssss",
        "ssss=================p====p=================ssss",
        "ssss========================================ssss",
        "ssss========================================ssss",
        "ssss========================================ssss",
        "ssЮ------------------------------------------Юss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss"
      ],
      "terrain": { ".": [ "t_flat_roof" ], ">": [ "t_stairs_down" ], "s": [ "t_open_air" ], ":": [ "t_laminated_door_glass_c" ], "=": [ "t_concrete" ], "p":  [ "t_pavement" ], "(": [ "t_glass_roof" ], "|": [ "t_rock_wall" ], "#": [ "t_glass_roof" ], "-": [ "t_rock_wall" ], "Ю": [ "t_gutter_drop" ] },
	  "monster": { "K": { "monster": "mon_kelkememnon", "chance": 100 }, "A": { "monster": "mon_azarkan", "chance": 100 } },
	  "traps": { "r": "tr_shadow", "v": "tr_swirling_vortex" },
	  "place_item": [ { "item": "sunandmoon", "x": 8, "y": 7 } ],
	  "place_items": [ { "item": "enchanted_misc", "x": [ 21, 23 ], "y": 6, "chance": 50, "repeat": 1 }, { "item": "enchanted_small_items", "x": [ 21, 23 ], "y": 6, "chance": 50, "repeat": 3 }, { "item": "jugofwhiteink", "x": [ 21, 23 ], "y": 6, "chance": 50, "repeat": 5 } ],
	  "furniture": { "B": "f_bookcase", "T": "f_desk", "a": "f_alembic", "Z": "f_scroll_printer", "m": "f_magic_circle", "[": "f_chair", "Y": "f_armchair", "0": "f_orrery", "2": "f_everburning_candelabra", "l": "f_filing_cabinet", ")": "f_magiclysm_translocator_gate" },
	  "place_fields": [
        { "x": [ 1, 23 ], "y": [ 1, 23 ], "repeat": [ 10, 20 ], "field": "fd_vault_atmosphere", "intensity": 1 }
      ],
	  "place_vehicles": [
        { "vehicle": "2seater2", "x": 22, "y": 39, "rotation": 90, "chance": 25, "repeat": 3 }
      ],
      "items": { "B": { "item": "azarkanandkelkshelves", "chance": 40, "repeat": 3 }, "l": { "item": "SUS_office_filing_cabinet", "chance": 100, "repeat": 3 }, "T": { "item": "SUS_office_desk", "chance": 100, "repeat": 3 } }
    }
  },
  {
    "type": "mapgen",
    "om_terrain": [ [ "office_towermage_ne", "office_towermage_nw" ], [ "office_towermage_sw", "office_towermage_se" ] ],
    "method": "json",
    "object": {
      "fill_ter": "t_floor",
      "rows": [
        "ssssssssssssssssssssssssssss______ss______ssssss",
        "ssssssssssssssssssssssssssss__,,__ss__,,__ssssss",
        "ss       ssssssss           __,,__  _,,,,_    ss",
        "ss%%%%%% ssssssss %%%%%%%   _,,,,_  __,,__  %%ss",
        "ss/---HHHHGGHHGGHHHHHH-----|__,,__||__,,__|-|/ss",
        "ss%|...................|~~~|______||______|~|%ss",
        "ss%H.?????............?|~~~|______||______|~|%ss",
        "sssH..................?|~~~|______||______|~|%ss",
        "sssG..................?|~~~|______||______|~|%ss",
        "sssG..................?|~~~|______||______|~|%ss",
        "sssH...................|~~~|ŦŦŦŦŦŦ||ŦŦŦŦŦŦ|~|%ss",
        "sssG..................?|~~~|±±±±±±||±±±±±±|~|%ss",
        "sssG.......ddddd......?|~~~|--------------|~|%ss",
        "sssH.?????.d.hxd......?|~~~~~~~~~~~~~~~~~~~~|%ss",
        "ss%H.......d..........?|---|---------|------|%ss",
        "ss%|-----|--|---|...|--|SiT|r....ddd.|.OO..r|%ss",
        "ss%Hd...l|^.|.rr|...|y.|aii|r.....h..+......+sss",
        "ss%Hdh......+...|...|-+--+-|r..h.....|O..O..|%ss",
        "ss%Hdd...|..|---|..........|--CCC--+-|-|----|%ss",
        "ss%|-----|..G..........................|...lH%ss",
        "ss%Hddd..|..G..........................+...dH%ss",
        "ss%Hdh......|-+-|---|......|---|-+-|...|^dddH%ss",
        "ss%Hl...^|..|...|EEE|......|хEE|...|...|----|%ss",
        "ss%|-----|..|...|EEE+......+EEE|...|...+....|%ss",
        "ss%Hd...l|..|.R.|EEE+......+EEE|.R.|...|rrrr|%ss",
        "ss%Hdh......|>R.|EEх|......|EEE|>R.|...|----|%ss",
        "ss%Hd...^|..|---|---|......|---|---|...|^...H%ss",
        "ss%|-----|..|rrr|......................+..h.H%ss",
        "ss%H.....|..|...+......................|ldddH%ss",
        "ss%Hdh......|--------|....|-+|---------|----|%ss",
        "ss%Hddd.l|...........|....|y.|CCBeC.hh^|dh..|%ss",
        "ss%|-----|...........|....|--|..........ddd.H%ss",
        "ss%|cccll|------|....|....|.................H%ss",
        "ss%H............|....|....|......htth..|llll|%ss",
        "ss%H....d..h....G....G....G..|----|----|----|%ss",
        "ss%|^.dxd......l|....G....G..|ddx.|dxd^|ldxdH%ss",
        "ss%|------------||...|....|..|dh..|dh..|..h.H%ss",
        "ss%|.............|...|----|..|-..-|-..-|-..-|%ss",
        "ss%H...hhhhhhh...|...+iiia|................^H%ss",
        "ss%H...ТТТТТТТ...G...|SiiT|................^H%ss",
        "ss%H...ТТТТТТТ...G...|----|..|-..-|-..-|-..-|%ss",
        "ss%H...hhhhhhh...|-+-|aiii+..|dh..|..hd|..hd|%ss",
        "ss%|^............|y..|TiiS|..|xddl|ldxd|lxdd|%ss",
        "ss/|---HHHH-HHHH-|---|----|HH|-HH-|-HH-|-HH-|/ss",
        "ss%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%ss",
        "ss                                            ss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss",
        "ssssssssssssssssssssssssssssssssssssssssssssssss"
      ],
      "terrain": {
        " ": [
          [ "t_region_groundcover_urban", 20 ],
          [ "t_region_groundcover_barren", 5 ],
          [ "t_region_shrub", 2 ],
          [ "t_region_tree", 1 ]
        ],
        "-": "t_concrete_wall",
        "|": "t_concrete_wall",
        "a": "t_linoleum_white",
        "C": "t_floor",
        "х": "t_elevator",
        "O": "t_floor",
        "Т": "t_floor",
        "r": "t_floor",
        "y": "t_floor",
        "/": "t_gutter_downspout"
      },
      "furniture": { "B": "f_bookcase", "Т": "f_table", "l": "f_filing_cabinet", "х": "f_console_broken", "#": "f_magiclysm_translocator_gate" },
      "items": {
        "l": { "item": "SUS_office_filing_cabinet", "chance": 75 },
        "B": { "item": "homebooks", "chance": 75, "repeat": 5 },
        "d": { "item": "SUS_office_desk", "chance": 75 },
        "y": { "item": "SUS_janitors_closet", "chance": 75 }
      },
      "place_item": [ { "item": "record_accounting", "x": 5, "y": 32 } ],
	  "place_fields": [
        { "x": [ 1, 23 ], "y": [ 1, 23 ], "repeat": [ 10, 20 ], "field": "fd_vault_atmosphere", "intensity": 1 }
      ],
      "place_vehicles": [
        { "vehicle": "swivel_chair", "x": [ 4, 23 ], "y": [ 5, 23 ], "rotation": 90, "chance": 15, "repeat": 6 },
        { "vehicle": "swivel_chair", "x": [ 24, 40 ], "y": [ 24, 40 ], "rotation": 90, "chance": 15, "repeat": 6 }
      ],
      "monsters": { ".": { "monster": "GROUP_MAGES", "chance": 2, "density": 0.001 } },
      "palettes": [ "office_palette" ]
    }
  },
  {
    "type": "mapgen",
    "om_terrain": [ [ "office_towermage_rooftrue_ne", "office_towermage_rooftrue_nw" ], [ "office_towermage_rooftrue_se", "office_towermage_rooftrue_sw" ] ],
    "method": "json",
    "object": {
      "fill_ter": "t_open_air",
      "rows": [
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "   Ю----------------------------------------Ю   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |........................................|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   |OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO|   ",
        "   Ю----------------------------------------Ю   ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                "
      ],
      "terrain": { ".": [ "t_glass_roof" ], "|": [ "t_rock_wall" ], "O": "t_open_air", "-": [ "t_rock_wall" ], "Ю": [ "t_gutter_drop" ] },
      "item": { ".": { "item": "feces_bird", "chance": 2 } }
    }
  }
]
